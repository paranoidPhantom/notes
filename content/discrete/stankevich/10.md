---
title: "Вектора, перестановки, сочетания, код Грея, формула включений-исключений"
index: 10
lectureYouTubeLink:
  - "https://www.youtube.com/watch?v=OUaZunsyYEM"
author:
  name: "Худалла А.Б."
  isu: 501855
---

mjx-hidden
$\newcommand{\ihat}{\hat \imath}$
$\newcommand{\jhat}{\hat \jmath}$
$\newcommand{\pipe}{\,|\,}$
$\newcommand{\lra}{\Leftrightarrow}$
$\newcommand{\la}{\Leftarrow}$
$\newcommand{\ra}{\Rightarrow}$
$\newcommand{\mb}{\mathbb}$
$\newcommand{\br}[1]{\{{#1}\}}$
$\newcommand{\ang}[1]{\langle{#1}\rangle}$
$\newcommand{\ov}{\overline}$
$\newcommand{\argsum}[2]{\underset{#2}{\overset {#1}\sum}}$
$\newcommand{\arghuge}[1]{\huge{#1}\;\normalsize}$
$\newcommand{\tmatrix}[1]{\begin{pmatrix}#1\end{pmatrix}}$
$\newcommand{\bmatrix}[1]{\begin{Bmatrix}#1\end{Bmatrix}}$
$\newcommand{\matal}[1]{\begin{align}#1\end{align}}$
$\newcommand{\pmatrix}[1]{\begin{vmatrix}#1\end{vmatrix}}$
\$\newcommand\{\system\}\[1\]\{\large\left \\{ \begin\{align\}#1\end\{align\} \right \.\normalsize\}\$
\$\newcommand\{\mc\}\{\mathcal\}\$

---

$\newcommand{\argoplus}[2]{\large \overset{#1}{\underset{#2}\oplus}\normalsize}$
$\newcommand{\arglarge}[3]{\large \overset{#2}{\underset{#3}#1}\normalsize}$
$\newcommand{\mod}[1]{\left | #1 \right |}$

## Комбинаторика

Рассматриваем линейное представление структур

>Пример:
>Для двоичной кучи - массив содержащий элементы кучи

### Цели:
- Подсчёт и перечисление комбинаторных объектов
- Нумерация комбинаторных объектов

### Вектора фиксированной длины

$(x_1, x_2,...,x_n) = \Sigma^n$
Над алфавитом $\Sigma$
$|\Sigma|=k \quad k^n$

### Лексикографический порядок

$X^* = \arglarge \cup \infty {k=1} X^k$

$A \subset X^*$
Пусть $X$ - линейно упорядочено
- На $X$ введено отношение порядка
- Линейно
Перенесём порядок с $X$ на $A \rightarrow$ лексикографический

$a = x_1x_2...x_l$
$b = y_1y_2...y_t$

$x_i \in X, y_j \in X$
$a \, \leq_\text{ lex} \, b$
$\exists i \leq min(l,t):$
1) $j \leq i \ra x_j = y_i$
2) $i = l \lor i < t \land x_{i+1} < y_{i+1}$

>Пример:
>2 $\mb B^n$ векторы без двух "$1$" подряд
>$n = 0 \quad f_0 = 1$
>$n=1 \quad f_1 = 2$
>$n > 1:$
>Будем бить на непересекающиеся мн-ва
>$F_n = 0F_{n-1} + 10F_{n-2}$
>$\ra f_n = f_{n-1} + f_{n-2}$

### Перестановки (Permutation)

$a_i \in \br{1,2,...,n}$
$i\neq j \ra a_i\neq a_j$

$S_n(\br{\Delta, o, \star}) \simeq S_n(\br{1,2,3})$

$P_n = n! \la P_n = n * P(n-1)$

### Размещения (Arrangement)

$a_i \in \br{1,2,..,n} \in A^k$
$n < k \ra \emptyset$
$n = k \rightarrow P_k$
$n > k \rightarrow A_{n,k}$

$n! = n^\underline{n} = 1^\ov{n}$

### Сочетание (Binomial coefficients)

$\br{1,2,...,n}$
Выбираем $k$

$\br{a_1,a_2,...,a_k}$
$\br{1,2} = \br{2,1}$

Канонизация (избавление от $k!$ повторений одного сочетания)

$a \sim b$
$sort(a) = sort(b)$
$set(a) = set(b)$
$C_{n,k} = A^k_n / \sim$
$|C_{n,k}| = C^k_n = \tmatrix {n \\ k}$

$C_{n,k} = C_{n-1,k-1}\cup C_{n-1,k}$

$\tmatrix{n \\ k} = \tmatrix {n-1 \\ k-1} + \tmatrix{n-1 \\ k}$

---

### Код Грея

Способ перечисления комбинаторных объектов, чтобы они как можно меньше локально менялись

>Пример:
>*Для векторов длины $n$*
>$g_0, g_1,...,g_{2^n - 1}$
>$H(g_i,g_{i+1}) = 1$
>$n = 3$
>$000$
>$001$
>$011$
>$010$
>$110$
>$111$
>$101$
>$100$
>$|\Sigma| = s^n$
>$g_i = c(i)$

$H(g_1, g_{2^n - 1}) = 1 \ra$ циклический код Грея

### Теорема

$\forall n: \exists$ цикл. код Грея $\mb B^n$

 ---

$|C| = \argsum k {i=1}|C_i|$

$|A\cup B| = |A| + |B| - |A \cap B|$
(Круги эйлера)
$|A \cup B \cup C| = |A \cup B| + |C| - |(A \cup B) \cap C| = |A|+|B|+|C| - |A\cap B| - |(A \cap C) \cup (B \cap C)|=$
$= |A| + |B| + |C| - |A \cap B| - |A \cap C| - |B \cap C| + |A \cap B \cap C|$

### Теорема

$\left|\arglarge \cup n {i=1} A_i \right| = \argsum {}{\matal{I \subset \br{1,2,...,n} \\ I \neq \emptyset}}(-1)^{|I|+1}\left|\arglarge \cap{}{i \in I}A_i \right|$

$\mod {\arglarge \cup n {i=1}A_i} = \mod{\arglarge \cup {n-1}{i=1}A_i \cup A_n} = \mod{\arglarge \cup {n-1}{i=1} A_i}+\mod {A_n} - \mod{\arglarge \cup{n-1}{i=1}(A_i \cap A_n)} = \argsum{}{I \subset\br{1,...,n-1}}(-1)^{\mod I + 1}\mod{\arglarge \cap {} {i \in I} A_i} + \mod {A_n} + \argsum{}{\matal{J \subset\br{1,...,n-1} \\ I = J \cup \br n}}(-1)^{\mod J + 2} \mod {\arglarge \cap {} {i \in J} A_i \cap A_n}$